# direnv bootstrap for governance submodule
# Usage: direnv allow

set -euo pipefail

if [ ! -d ".governance/ai/.git" ]; then
  echo "[governance] initializing submodule .governance/ai"
  git submodule update --init --recursive .governance/ai
fi

# Optional: set GOV_AUTO_UPDATE=true to pull latest submodule remote (use with caution)
if [ "${GOV_AUTO_UPDATE:-false}" = "true" ]; then
  echo "[governance] auto-updating submodule .governance/ai"
  git submodule update --remote --recursive .governance/ai
fi
